<link rel="stylesheet" href="/css/employeesection.css">

<!-- Main Container -->
<div id="main-div">
    <h1>All Employees List</h1>
    <hr>

    <!-- Employee Data Table Headings -->
    <div id="headings">
        <p>Name</p>
        <p>Email</p>
        <p>Password</p>
        <p>Permission</p>
    </div>
    <hr>

    <!-- Loop Through Users and Display Employee Information -->
    <%for(let user of users){%>

    <form action="/employee/update/<%=user.id%>" method="POST">
            <!-- Input Fields for Employee Information -->
            <input type="text" name="name" placeholder="Name" value="<%=user.name%>" required>
            <input type="email" name="email" placeholder="Email" value="<%=user.email%>" required>
            <input type="text" name="password" placeholder="Password" value="<%=user.password%>" required>
            <input type="text" name="permission" placeholder="Permission" disabled  value="<%=user.permission%>" required>

            <!-- Update Button -->
            <button type="submit">Update</button>

            <!-- Delete Button -->
            <button type="button"><a href="/employee/delete/<%=user.id%>">Delete</a></button>

            <!-- Admin Actions Buttons (Make Admin / Remove Admin) -->
            <% if (user.permission === 'admin') { %>
                <button type="button">
                    <a href="/employee/removeadmin/<%=user.id%>">Remove Admin</a>
                </button>
            <% } else { %>
                <button type="button">
                    <a href="/employee/makeadmin/<%=user.id%>">Make Admin</a>
                </button>
            <% } %>
            
            
    </form>
    <%}%>
   
</div>